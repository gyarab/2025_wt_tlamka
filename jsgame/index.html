<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Hádej číslo</title>
<style>
    body {background:#000; color:#ff8800; font-family:Arial; text-align:center; margin:40px;}
    h1 {color:#ff8800; font-size:40px; margin:20px;}
    .box {
        background:#111;
        width:340px;
        margin:0 auto;
        padding:25px;
        border:4px solid #ff8800;
        border-radius:15px;
    }
    input {background:#222; color:#ff8800; border:2px solid #ff8800; padding:10px; font-size:20px; text-align:center; width:80px;}
    button {background:#ff5500; color:#000; padding:12px 25px; font-size:18px; border:none; margin:10px; cursor:pointer;}
    button:hover {background:#ff7700;}
    button:disabled {background:#555; cursor:not-allowed;}
    #zprava {font-size:24px; margin:25px 0; min-height:60px;}
    #pokusy {font-size:20px;}
    #osa {height:40px; background:#222; border:2px solid #ff8800; position:relative; margin:20px auto; width:90%;}
    .vylouceno {position:absolute; height:100%; background:#ff2200; opacity:0.7;}
</style>
</head>
<body>

<div class="box">
    <h1>UHÁDNI ČÍSLO</h1>

    <p>Rozsah 1 - <input id="rozsah" value="20"> <button id="nova">NOVÁ HRA</button></p>

    <p><input id="tip" placeholder="?"> <button id="hadej">HÁDEJ!</button></p>

    <div id="zprava">Klikni na NOVÁ HRA</div>
    <div id="pokusy">Pokusy: 0 / 7</div>

    <div id="osa"></div>
</div>

 <footer>
        &copy; 2025 Matouš Tlamka </a>
</footer>

<script>
    let tajne, pokusy=0, max=20, min=1;
    const zprava = document.getElementById('zprava');
    const pokusyEl = document.getElementById('pokusy');
    const osa = document.getElementById('osa');

    document.getElementById('nova').onclick = () => {
        max = parseInt(document.getElementById('rozsah').value) || 20;
        tajne = Math.floor(Math.random()*max)+1;
        pokusy = 0; min = 1;
        pokusyEl.textContent = 'Pokusy: 0 / 7';
        zprava.textContent = 'Nová hra! Hádej 1–'+max;
        zprava.style.color = '#ff8800';
        document.getElementById('tip').disabled = false;
        document.getElementById('hadej').disabled = false;
        console.log('Tajné číslo:', tajne);
        kresli();
    };

    function kresli() {
        osa.innerHTML = '';
        if (min>1) {
            let l = document.createElement('div');
            l.className='vylouceno';
            l.style.left='0';
            l.style.width=((min-1)/(max-1)*100)+'%';
            osa.appendChild(l);
        }
        if (max < parseInt(document.getElementById('rozsah').value)) {
            let r = document.createElement('div');
            r.className='vylouceno';
            r.style.right='0';
            r.style.width=((parseInt(document.getElementById('rozsah').value)-max)/(parseInt(document.getElementById('rozsah').value)-1)*100)+'%';
            osa.appendChild(r);
        }
    }

    document.getElementById('hadej').onclick = () => {
        let tip = parseInt(document.getElementById('tip').value);
        if (!tip || tip<1 || tip>max) {zprava.textContent='ŠPATNÉ ČÍSLO!'; return;}

        pokusy++;
        pokusyEl.textContent = 'Pokusy: '+pokusy+' / 7';
        console.log('Tip:', tip);

        if (tip==tajne) {
            zprava.innerHTML = 'VYHRÁL JSI!!!';
            zprava.style.color = '#00ff00';
            document.getElementById('tip').disabled = true;
            document.getElementById('hadej').disabled = true;
            return;
        }
        if (pokusy>=7) {
            zprava.innerHTML = 'PROHRÁL JSI<br>Bylo '+tajne;
            zprava.style.color = '#ff0000';
            document.getElementById('tip').disabled = true;
            document.getElementById('hadej').disabled = true;
            return;
        }

        if (tip<tajne) {zprava.textContent='MOC MALÉ!'; min=tip+1;}
        else {zprava.textContent='MOC VELKÉ!'; max=tip-1;}
        zprava.style.color = '#ff8800';
        document.getElementById('tip').value='';
        kresli();
    };

    document.getElementById('tip').addEventListener('keypress', e => {
        if (e.key==='Enter') document.getElementById('hadej').click();
    });

    // start
    document.getElementById('nova').click();
</script>

</body>
</html>